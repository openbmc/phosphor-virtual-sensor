{
  "comments": [
    {
      "key": {
        "uuid": "5cc6a538_6bdaa0b7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 11,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-04-09T15:42:13Z",
      "side": 1,
      "message": "Considering that the sensors this uses as input have the ability to adjust, I suspect that this value should be calculated at runtime, not hardcoded.  It seems like it should just be a matter of grabbing all your inputs Min/Max values, and plug them each into the equation to determine the possible min and max that this sensor could take.  This would require less complex config files.",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 11,
        "endChar": 43
      },
      "revId": "6c1a4b6f2c2c85550d5f765c7a2333a23f4b3f7e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42b1d862_d8d31b95",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 11,
      "author": {
        "id": 1000847
      },
      "writtenOn": "2021-04-09T16:59:53Z",
      "side": 1,
      "message": "Hi Ed,\nSorry, I don\u0027t really understand your mean. You mean it couldn\u0027t set virtual sensors\u0027 MaxValue/MinValue in its json file?\nBut for example, the phosphor-hwmon sensors\u0027 MaxValue/MinValue can hardcode in conf file, and dbus-sensor\u0027s HwmonTempSensors\u0027 is hardcode(https://github.com/openbmc/dbus-sensors/blob/master/src/HwmonTempSensor.cpp#L37).\nWhy cannot phosphor-virtual-sensor set MaxValue/MinValue in json file? Is there something I misunderstanding?",
      "parentUuid": "5cc6a538_6bdaa0b7",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 11,
        "endChar": 43
      },
      "revId": "6c1a4b6f2c2c85550d5f765c7a2333a23f4b3f7e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8aac55c9_19417d18",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 11,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-04-09T17:43:57Z",
      "side": 1,
      "message": "If you have a virtual sensor that based on A and B, with the equation A.Value + B.Value\n\nThe max range for that is:\nA.MaxValue + B.MaxValue\n\nand the min range for that sensor is:\nA.MinValue + B.Minvalue\n\nIf A or B are something like power supplies, and are replaced with variants that have a larger range, the min values and max values need to be updated accordingly, but because they\u0027re hardcoded in this file, they can\u0027t be, or would need new sensors for every possible combination of PSUs.\n\nHwmonTempSensor can pull this from a config file because it\u0027s based on the actual input device, and isn\u0027t based on any other dbus inputs that it needs to consider, and we know the exact range that a tmp75 (for example) allows.\n\nI don\u0027t use phosphor-virtual-sensor because of other reasons, so it\u0027s up to the maintainers if they want to put it into the config file, it just seems like it\u0027s an opportunity to get it wrong, when it\u0027s easy enough to calculate automatically.",
      "parentUuid": "42b1d862_d8d31b95",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 11,
        "endChar": 43
      },
      "revId": "6c1a4b6f2c2c85550d5f765c7a2333a23f4b3f7e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eb72a660_ff64ec48",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 17,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-04-09T15:42:13Z",
      "side": 1,
      "message": "Please test a calculation of inputs that takes this value out of range.  I don\u0027t see any code to clamp the values, which would be required here.",
      "revId": "6c1a4b6f2c2c85550d5f765c7a2333a23f4b3f7e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47de31ad_11b511c9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 17,
      "author": {
        "id": 1000847
      },
      "writtenOn": "2021-04-09T16:59:53Z",
      "side": 1,
      "message": "OK, I will change my test case. Thanks.",
      "parentUuid": "eb72a660_ff64ec48",
      "revId": "6c1a4b6f2c2c85550d5f765c7a2333a23f4b3f7e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f4fb19eb_a4af54b1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 17,
      "author": {
        "id": 1000847
      },
      "writtenOn": "2021-04-28T04:22:57Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "47de31ad_11b511c9",
      "revId": "6c1a4b6f2c2c85550d5f765c7a2333a23f4b3f7e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f45be0c2_5c1e7960",
        "filename": "virtualSensor.cpp",
        "patchSetId": 3
      },
      "lineNbr": 155,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-04-09T12:22:26Z",
      "side": 1,
      "message": "I think these should default to either quiet_NaN or +/- infinity.  We should make an update to the xyz.openbmc_project.Sensor.Value interface to default them there as well.",
      "range": {
        "startLine": 155,
        "startChar": 51,
        "endLine": 155,
        "endChar": 62
      },
      "revId": "6c1a4b6f2c2c85550d5f765c7a2333a23f4b3f7e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "87a63d78_c467975f",
        "filename": "virtualSensor.cpp",
        "patchSetId": 3
      },
      "lineNbr": 155,
      "author": {
        "id": 1000847
      },
      "writtenOn": "2021-04-09T16:59:53Z",
      "side": 1,
      "message": "I saw your PR. So I don\u0027t need to set default value here? Or I change this to NaN value like  threshold is better?",
      "parentUuid": "f45be0c2_5c1e7960",
      "range": {
        "startLine": 155,
        "startChar": 51,
        "endLine": 155,
        "endChar": 62
      },
      "revId": "6c1a4b6f2c2c85550d5f765c7a2333a23f4b3f7e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c68d3e95_220d12d3",
        "filename": "virtualSensor.cpp",
        "patchSetId": 3
      },
      "lineNbr": 155,
      "author": {
        "id": 1000847
      },
      "writtenOn": "2021-04-28T04:22:57Z",
      "side": 1,
      "message": "I set the default value to NaN.",
      "parentUuid": "87a63d78_c467975f",
      "range": {
        "startLine": 155,
        "startChar": 51,
        "endLine": 155,
        "endChar": 62
      },
      "revId": "6c1a4b6f2c2c85550d5f765c7a2333a23f4b3f7e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bc1555ec_30774e58",
        "filename": "virtual_sensor_config.json",
        "patchSetId": 3
      },
      "lineNbr": 15,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-04-09T12:22:26Z",
      "side": 1,
      "message": "Is it ok if we just put these into the \"Desc\" dictionary?",
      "revId": "6c1a4b6f2c2c85550d5f765c7a2333a23f4b3f7e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d46ba418_28146255",
        "filename": "virtual_sensor_config.json",
        "patchSetId": 3
      },
      "lineNbr": 15,
      "author": {
        "id": 1000847
      },
      "writtenOn": "2021-04-09T16:59:53Z",
      "side": 1,
      "message": "Thanks for suggestion. It seems better than my origin setting way. I will modified it.",
      "parentUuid": "bc1555ec_30774e58",
      "revId": "6c1a4b6f2c2c85550d5f765c7a2333a23f4b3f7e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "89c0fb94_f9e8fd16",
        "filename": "virtual_sensor_config.json",
        "patchSetId": 3
      },
      "lineNbr": 15,
      "author": {
        "id": 1000847
      },
      "writtenOn": "2021-04-28T04:22:57Z",
      "side": 1,
      "message": "Done. Move to \"Desc\" group",
      "parentUuid": "d46ba418_28146255",
      "revId": "6c1a4b6f2c2c85550d5f765c7a2333a23f4b3f7e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    }
  ]
}